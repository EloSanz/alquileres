{
  "name": "Alquileres App",
  "description": "Sistema de Gestión de Alquileres - Full Stack Type-Safe",
  "rules": {
    "enforce-stack": {
      "backend": ["elysia", "prisma", "postgresql", "typescript"],
      "frontend": ["react", "vite", "eden-treaty", "material-ui", "typescript"],
      "prohibited": {
        "backend": ["express", "nestjs", "fastify", "typeorm", "mikroorm", "sequelize", "joi", "yup", "zod", "axios", "fetch"],
        "frontend": ["axios", "fetch", "redux", "zustand", "jotai", "css-modules", "styled-components"]
      }
    },
    "architecture": {
      "pattern": "layered-architecture",
      "layers": ["routes", "controllers", "services", "repositories", "entities"],
      "interfaces": true,
      "dependency-injection": true
    },
    "coding-standards": {
      "typescript-strict": true,
      "end-to-end-typesafety": true,
      "no-any-types": "warn",
      "interface-prefix": "I"
    },
    "after-change": {
      "required-commands": [
        "cd server && npm run type-check && npm run build",
        "cd web && npm run type-check && npm run build"
      ]
    },
    "before-commit": {
      "backend-checks": [
        "export type App = typeof app",
        "interfaces exist for services/repositories",
        "entities have toDTO()/fromPrisma()",
        "✅ npm run type-check passes",
        "✅ npm run build compiles",
        "dev:full works"
      ],
      "frontend-checks": [
        "treaty<App> import",
        "no src/types/ folder",
        "✅ npm run type-check passes",
        "✅ npm run build compiles",
        "dev:full works"
      ]
    }
  },
  "docs": {
    "primary": "AGENT_RULES.md",
    "reference": "QUICK_REFERENCE.md",
    "architecture": "ARCHITECTURE_STANDARD.md"
  },
  "commands": {
    "setup": "./setup.sh",
    "dev": "npm run dev",
    "dev:backend": "npm run dev:backend",
    "dev:frontend": "npm run dev:frontend"
  }
}
